Firmware 6.50 fuer FritzBox-6490 Cable mit telnet u.A. aktiviert
===========================================================

Inhalt
======
fb6490_6.50_telnet-XXX.tar	- Modifiziertes install-image
telnet-1.tar			- Pseudo rootfs (from koyaanisqatsi@ip-phone-forum.de)

Installation
============

Bei aelteren Versionen ist es evtl moeglich das image uber den Firmware Installer zu installieren
(http://fritz.box/cgi-bin/firmwarecfg).
Ich habe es nie getestet.

Ansonsten:
- Telnet Zugang auf die Box erlangen (s.u.)
- Image auf die Box kopieren (z.B. upload auf NAS)
- Image auspacken
	# cd /
	# tar xf /var/media/ftp/fb6490_6.50_telnet.tar

- Installation starten
	# var/install
	# echo $?

	Der return code sollte 1 sein, dann hat der update funktioniert.

- Reboot via postinstall
	nohup sh var/post_install&


Nach dem reboot sollte telnet direkt moeglich sein.

Telnet Zugang
=============

Methode 1
---------

Via Sicherung/Widerherstellen
Getestet mit FW Version 6.10 und 6.26, chrome browser

- Nach System/Sicherung/Wiederherstellen navigieren
- "Entwickler-Tools" im browser aktivieren
- Rechtsklick auf den "Datei auswaehlen" Button --> Inspect
- Folgende elemente im HTML code aendern:
	id=uiImport		aendern in	id=uiFile
	name=ConfigImportFile 	aendern in	name=UploadFile
- Dann auf "Datei auswaehlen" und das pseudo-image (telnet-1.tar) hochladen

Nach ca. 15 sek sollte ein Dialog erscheinen der auffordert eine nicht-Offizielle firmware zu bestaetigen.
Dies tun, jetzt sollte telnet auf die box (normales passwort) funktionieren (bis zum naechsten reboot).

Manchmal sturzt die box beim hochladen komplett ab, einfach nochmal probieren.
Wenn die Konsolen-Ausgaben stoeren einfach eine 2. telnet Session oeffnen.

Andere Methoden
---------------
Z.B.	S44-Luecke (http://yourfritz.de/telnet_DOCSIS.tgz)


Dies & Das
==========

TR069 Abschalten
----------------

cat /var/flash/tr069.cfg > /tmp/tr069.cfg
vi /tmp/tr069.cfg

	enabled auf "no" setzen:
	(...)
	tr069cfg {
        enabled = no;
	(...)

cat /tmp/tr069.cfg > /var/flash/tr069.cfg
reboot


Squashfs
========
ARM-FS entpacken (var/remote/var/tmp/filesystem.image)
	unsquashfs4_avm_x86 filesystem.image

ARM-FS einpacken:
	mksquashfs4-lzma-avm-be squashfs-root filesystem.image -all-root -info -no-progress -no-exports -no-sparse -b 65536

