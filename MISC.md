
FB6490 Block diagram
====================

Edited with [asciiflow](http://asciiflow.com)

<pre>
```
FB6490/Puma6 block diagram (no claim for correctness)
+----------------------------+Puma 6+---------------------------------------+
|                                                                           |
|    +---+ARM Core (NP CPU)+----+  +---+ATOM Core (APP CPU)+--+             |
|    |                          |  |                          |             |
+----+---+    Box mgmt (PP, CM) |  | NAS, USB                 |             |
| Phones?|    Webif, DHCPd      |  | WLAN       +-----+-------+-------------+
+----+---+    VoIP, EVA(?)      +  + DVB+C Strm |     |  ath0 (2.4G WiFi)   |
|    |                          MBOX            |     +---------------------+
|    |  +--------+------------+ +  +            |     |  ath1 (5G WiFi)     |
|    |  |        | lan bridge | |  |            |     +-------+-------------+
|    |  |guest br| [x.x.x.1]  | |  | +--------+ |lan bridge   |             |
|    |  |VLAN 99 | 192.254.1.1| |  | |guest br| |[x.x.x.254]  |             |
|    |  |        | VLAN 2     | |  | |VLAN 99 | |192.168.1.254|             |
|    |  +----+---+------------+ |  | |        | |VLAN 2       |             |
|    |       |    l2sd0       | |  | +--------+-------+-------+  +----------+
|    |       +-------------+--+ |  | |      eth0      |       +--+SATA Gen2 n.c.
|    |                     |    |  | +----+-----------+       |  +----------+
|    | +---------------+   |    |  |      |                   |             |
|    | |wan/erouter/.. |   |    |  |      |                   +----+        |
|    +---+-------------+--------+  +--------------------------+    |        |
|        |                 |              |                      +-+--------+
|    +---+--------------+  |?      +------+------------------+   |USB2(EHCI)|
|    |         ?        |  |       |      P0                 |   +----------+
|    | Packet Processor +--+       | Internal L2 Switch      |              |
|    | proxy/NAT/router/|          |                     P5/6+---+          |
|    | ...              +----------+P7  P2   P3      P1      |   |          |
|    +---+--------------+          +----+-----+-------+------+ --+--+       |
|        |                              |     |       |        |UDMA|       |
|        |                              |     |     +-+--+     +----+       |
|        |                              |     |     |MoCA|                  |
|    +---+---+         +----+        +--+-----+--+  +----+     +----+ +---+ |
|    |CM     |         |MDIO|        |RGMII|RGMII|             |eMMC| |SPI| |
+------------+-----------+--------------+-------------------------+-----+---+
                         |              |                         |     |
                     +---+--------------+------------+----+       |     |
                     |             |Port 0 (tagged)  |    |       |     |
                     |             +-----------------+    |       |     |
                     | Atheros AR8327 Switch              |       |     |
                     |                                    |       |     |
                     | +------+1000BaseT ports+-----------+       |     |
                     | |P1    |P2    +P3    +P4    |P5/6  |       |     |
                     | |VLAN 2|VLAN 2|VLAN 2|VLAN 2|unused|       |     |
                     | |untag |untag |untag |untag |      |       |     |
                     +-----------------------------+------+       |     |
                   (probably different in guest/LAN1 setup)       |     |
                                                                  |     |
+------------------------------------------------------------+    |     |
|eMMC                                                        +----+     |
+------------------------------------------------------------+          |
|Off KB  |Size   |Content    |ARM |ATOM|EVA(*)|Comment       |          |
+------------------------------------------------------------+          |
|0       |64MB   |ARM FS   1 |mmcblk0p1|mtd0  |or mtd11(*)   |          |
+------------------------------------------------------------+          |
|0x10000 |8MB    |ARM Kern 1 |mmcblk0p2|mtd1  |or mtd12(*)   |          |
+------------------------------------------------------------+          |
|0x12000 |64MB   |Atom FS  1 |mmcblk0p3|mtd6  |or mtd13(*)   |          |
+------------------------------------------------------------+          |
|0x22000 |8MB    |Atom Krn 1 |mmcblk0p4|mtd7  |or mtd14(*)   |          |
+------------------------------------------------------------+          |
|0x24000 |64MB   |ARM FS   2 |mmcblk0p5|mtd11 |or mtd0(*)    |          |
+------------------------------------------------------------+          |
|0x34000 |8MB    |ARM Kern 2 |mmcblk0p6|mtd12 |or mtd1(*)    |          |
+------------------------------------------------------------+          |
|0x36000 |64MB   |Atom FS  2 |mmcblk0p7|mtd13 |or mtd6(*)    |          |
+------------------------------------------------------------+          |
|0x46000 |8MB    |Atom Krn 2 |mmcblk0p8|mtd14 |or mtd7(*)    |          |
+------------------------------------------------------------+          |
|0x48000 |1.5GB  |NAS        |mmcblk0p9|      |/var/media/ftp|          |
+------------------------------------------------------------+          |
   (*) Assignment depends on linux_fs_start                             |
                                                                        |
+---------------------------------------------------------+             |
|Macronix 25L1608                                         +-------------+
+---------------------------------------------------------+
|Off     |Size   |Content |ARM |ATOM|EVA   |Comment       |
+---------------------------------------------------------+
|0x000000|2 MB   |overlay |na  |mtd0|      |              |
+---------------------------------------------------------+
|0x000000|0x20000|ulader  |mtd0|mtd1|mtd2  |              |
+---------------------------------------------------------+
|0x020000|0x40000|tffs (1)|mtd1|mtd2|mtd3  |              |
+---------------------------------------------------------+
|0x060000|0x40000|tffs (2)|mtd2|mtd3|mtd4  |              |
+---------------------------------------------------------+
|0x0a0000|0xa0000|config  |mtd3|mtd4|mtd5  |JFFS2 /nvram  |
+---------------------------------------------------------+
|0x140000|0x80000|cefdk   |mtd4|mtd5|mtd8  |              |
+---------------------------------------------------------+
|0x1c0000|0x10000|cefdk_cf|mtd5|mtd6|mtd9  |              |
+---------------------------------------------------------+
|0x1d0000|0x10000|gpt_bckp|mtd6|mtd7|mtd10 |              |
+------------------------------------------+--------------+
```

</pre>
